---
name: "CodeQL Configuration for BuildMark"

# Paths to exclude from analysis
paths-ignore:
  - '**/bin/**'
  - '**/obj/**'
  - '**/TestResults/**'
  - '**/*.Designer.cs'
  - '**/*.generated.cs'

# Query filters to exclude specific queries for certain paths
query-filters:
  # Exclude warnings in generated code
  - exclude:
      id: cs/useless-assignment-to-local
    paths:
      - '**/obj/**/generated/**/*.cs'
  - exclude:
      id: cs/nested-if-statements
    paths:
      - '**/obj/**/generated/**/*.cs'
  # Exclude justified generic exception handlers
  - exclude:
      id: cs/catch-of-all-exceptions
    paths:
      - src/DemaConsulting.BuildMark/Context.cs
      - src/DemaConsulting.BuildMark/Program.cs
      - src/DemaConsulting.BuildMark/RepoConnectors/ProcessRunner.cs
  # Exclude path-combine warnings in PathHelpers (validated safe usage)
  - exclude:
      id: cs/path-combine
    paths:
      - src/DemaConsulting.BuildMark/PathHelpers.cs
      - test/DemaConsulting.BuildMark.Tests/PathHelpers.cs
  # Exclude HttpResponseMessage disposal warning in mock handler (disposed by HttpClient)
  - exclude:
      id: cs/local-not-disposed
    paths:
      - test/DemaConsulting.BuildMark.Tests/GitHubGraphQLClientTests.cs
